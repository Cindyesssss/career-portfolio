<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>æ—¥æœŸè®¡ç®—æµ‹è¯•</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .result { margin: 10px 0; padding: 10px; background: #f0f0f0; border-radius: 5px; }
        .label { font-weight: bold; color: #333; }
        .value { color: #0066cc; }
    </style>
</head>
<body>
    <h2>æµè§ˆå™¨æ—¥æœŸè®¡ç®—å¯¹æ¯”</h2>
    <div id="results"></div>
    
    <script>
        const today = new Date();
        
        // æ–¹æ³•1ï¼šåŸæ¥çš„ç®—æ³•
        const method1_dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
        
        // æ–¹æ³•2ï¼šæ›´å¯é çš„ç®—æ³•ï¼ˆé¿å…æ—¶åŒºé—®é¢˜ï¼‰
        const start = new Date(today.getFullYear(), 0, 0);
        const diff = today - start;
        const oneDay = 1000 * 60 * 60 * 24;
        const method2_dayOfYear = Math.floor(diff / oneDay);
        
        // æ–¹æ³•3ï¼šUTCæ—¶é—´è®¡ç®—ï¼ˆæœ€å¯é ï¼‰
        const startOfYear = Date.UTC(today.getFullYear(), 0, 1);
        const todayUTC = Date.UTC(today.getFullYear(), today.getMonth(), today.getDate());
        const method3_dayOfYear = Math.floor((todayUTC - startOfYear) / oneDay) + 1;
        
        // å¤©æ°”å’Œå†œå†è®¡ç®—
        const weatherConditions = [
            { icon: 'â˜€ï¸', temp: '22Â°C', desc: 'æ™´æœ—' },
            { icon: 'â›…', temp: '18Â°C', desc: 'å¤šäº‘' },
            { icon: 'ğŸŒ§ï¸', temp: '15Â°C', desc: 'å°é›¨' },
            { icon: 'â„ï¸', temp: '5Â°C', desc: 'é›ª' },
            { icon: 'ğŸŒ¤ï¸', temp: '25Â°C', desc: 'æ™´è½¬å¤šäº‘' }
        ];
        
        const lunarMonths = ['æ­£æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ', 'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'å†¬æœˆ', 'è…Šæœˆ'];
        const lunarDays = ['åˆä¸€', 'åˆäºŒ', 'åˆä¸‰', 'åˆå››', 'åˆäº”', 'åˆå…­', 'åˆä¸ƒ', 'åˆå…«', 'åˆä¹', 'åˆå', 'åä¸€', 'åäºŒ', 'åä¸‰', 'åå››', 'åäº”', 'åå…­', 'åä¸ƒ', 'åå…«', 'åä¹', 'äºŒå', 'å»¿ä¸€', 'å»¿äºŒ', 'å»¿ä¸‰', 'å»¿å››', 'å»¿äº”', 'å»¿å…­', 'å»¿ä¸ƒ', 'å»¿å…«', 'å»¿ä¹', 'ä¸‰å'];
        
        // ä½¿ç”¨ä¸‰ç§æ–¹æ³•è®¡ç®—ç»“æœ
        const methods = [
            { name: 'æ–¹æ³•1ï¼ˆåŸä»£ç ï¼‰', dayOfYear: method1_dayOfYear },
            { name: 'æ–¹æ³•2ï¼ˆæ ‡å‡†åŒ–ï¼‰', dayOfYear: method2_dayOfYear },
            { name: 'æ–¹æ³•3ï¼ˆUTCï¼‰', dayOfYear: method3_dayOfYear }
        ];
        
        let html = `
            <div class="result">
                <span class="label">æµè§ˆå™¨ï¼š</span>
                <span class="value">${navigator.userAgent}</span>
            </div>
            <div class="result">
                <span class="label">å½“å‰æ—¶é—´ï¼š</span>
                <span class="value">${today.toString()}</span>
            </div>
            <div class="result">
                <span class="label">æ—¶åŒºåç§»ï¼š</span>
                <span class="value">${today.getTimezoneOffset()} åˆ†é’Ÿ</span>
            </div>
        `;
        
        methods.forEach((method, index) => {
            const weatherIndex = method.dayOfYear % weatherConditions.length;
            const weather = weatherConditions[weatherIndex];
            
            const month = method.dayOfYear % 12;
            const day = (method.dayOfYear + today.getDate()) % 30;
            const lunar = lunarMonths[month] + lunarDays[day];
            
            html += `
                <hr>
                <h3>${method.name}</h3>
                <div class="result">
                    <span class="label">å¹´ä»½ä¸­ç¬¬å‡ å¤©ï¼š</span>
                    <span class="value">${method.dayOfYear}</span>
                </div>
                <div class="result">
                    <span class="label">å¤©æ°”ç´¢å¼•ï¼š</span>
                    <span class="value">${weatherIndex}</span>
                </div>
                <div class="result">
                    <span class="label">æ˜¾ç¤ºå¤©æ°”ï¼š</span>
                    <span class="value">${weather.icon} ${weather.temp} ${weather.desc}</span>
                </div>
                <div class="result">
                    <span class="label">å†œå†ï¼š</span>
                    <span class="value">${lunar}</span>
                </div>
            `;
        });
        
        document.getElementById('results').innerHTML = html;
    </script>
</body>
</html>
